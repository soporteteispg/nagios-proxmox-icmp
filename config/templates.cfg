# ============================================================
# Templates personalizados para monitoreo ICMP
# Archivo: templates.cfg
# ============================================================

# Template para hosts internos (red local)
define host {
    name                    icmp-host-internal
    use                     generic-host
    check_command           check-host-alive
    check_interval          5          ; Verificar cada 5 minutos
    retry_interval          1          ; Reintentar cada 1 minuto si falla
    max_check_attempts      3          ; 3 intentos antes de marcar como DOWN
    notification_interval   30         ; Re-notificar cada 30 minutos
    notification_period     24x7
    notification_options    d,u,r      ; DOWN, UNREACHABLE, RECOVERY
    contact_groups          admins
    register                0          ; Es template, no host real
}

# Template para hosts externos (internet)
define host {
    name                    icmp-host-external
    use                     generic-host
    check_command           check-host-alive
    check_interval          3          ; Verificar cada 3 minutos
    retry_interval          1          ; Reintentar cada 1 minuto si falla
    max_check_attempts      5          ; 5 intentos antes de marcar (más tolerante)
    notification_interval   15         ; Re-notificar cada 15 minutos
    notification_period     24x7
    notification_options    d,u,r
    contact_groups          admins
    register                0
}

# Template para servicio de ping detallado con métricas de pérdida
define service {
    name                    icmp-ping-service
    use                     generic-service
    check_interval          5          ; Cada 5 minutos
    retry_interval          1
    max_check_attempts      3
    notification_interval   30
    notification_period     24x7
    notification_options    w,u,c,r    ; WARNING, UNKNOWN, CRITICAL, RECOVERY
    contact_groups          admins
    register                0
}
